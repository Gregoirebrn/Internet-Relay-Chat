########################################################################################################################
#                                                       VARIABLE                                                       #
########################################################################################################################

SRCS		:=	Server.cpp			\
				Client.cpp			\
				Canal_Operators.cpp	\

SRCS_D		:=	sources/

OBJS_D		:=	objs/

OBJS		=	$(SRCS:%.cpp=$(OBJS_D)%.o)

HEAD		:=	Server.hpp		\
				Client.hpp		\

HEAD_D		:=	includes/

CFLAGS		:=	c++ -Wall -Wextra -Werror -std=c++98 -g3

BIN			:=	ircserv

########################################################################################################################
#                                                        RULES                                                         #
########################################################################################################################

all			:	$(BIN)

$(BIN)		:	$(OBJS_D) $(OBJS)
				$(CFLAGS) -o $(BIN) $(OBJS)

$(OBJS)		:	$(OBJS_D)%.o: $(SRCS_D)%.cpp $(HEAD_D)/*.hpp Makefile
				$(CFLAGS) -I$(HEAD_D) -c $< -o $@

$(OBJS_D)	:
				@mkdir -p $(OBJS_D)
########################################################################################################################
#                                                        COMMANDS                                                      #
########################################################################################################################

clean		:
				$(RM) -r $(OBJS) $(OBJS_D)

fclean		:	clean
				$(RM) $(BIN)

re			:	fclean all

.PHONY: all clean fclean re
